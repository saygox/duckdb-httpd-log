# name: test/sql/httpd_log.test
# description: test httpd_log extension
# group: [sql]

# Require statement will ensure this test is run with this extension loaded
require httpd_log

# Basic smoke test - confirm the read_httpd_log table function works
query I
SELECT COUNT(*) FROM read_httpd_log('test/data/common/sample.log');
----
6

# Verify extension is loaded and table function is available with raw mode
query I
SELECT COUNT(*) FROM read_httpd_log('test/data/common/sample.log', raw=true) WHERE parse_error = 0;
----
6
